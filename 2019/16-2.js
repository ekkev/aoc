const solve = (input, iterations, repeat = 10000, offset = 0) => {
    if (offset <= input.length*repeat/2)
        throw new Error(`Test assumptions failed ${offset}`);

    signal = input.repeat(repeat).slice(offset).split('').map(v => +v);

    let newSignal = [];
    for (let iteration = 1; iteration <= iterations; iteration++) {
        let runningSum = 0;
        // Assumption: all multpliers are ones - add a cumulative sum from the end for O(n)
        for (let pos = signal.length - 1; pos >= 0; pos--) {
            runningSum += signal[pos];
            newSignal[pos] = runningSum % 10;
        }

        signal = newSignal;
        newSignal = [];
    }

    return signal.slice(0,8).join('');
}

test = `80871224585914546619083218645595`;
console.log(solve(test, 100, 1, 24), 63195595); // 24176176480919046114038763195595

test = `03036732577212944063491565474664`;
console.log(solve(test, 100, 10000, 303673), 84462026);

test = `02935109699940807407585447034323`;
console.log(solve(test, 100, 10000, 0293510), 78725270);

test = `59772698208671263608240764571860866740121164692713197043172876418614411671204569068438371694198033241854293277505547521082227127768000396875825588514931816469636073669086528579846568167984238468847424310692809356588283194938312247006770713872391449523616600709476337381408155057994717671310487116607321731472193054148383351831456193884046899113727301389297433553956552888308567897333657138353770191097676986516493304731239036959591922009371079393026332649558536888902303554797360691183681625604439250088062481052510016157472847289467410561025668637527408406615316940050060474260802000437356279910335624476330375485351373298491579364732029523664108987`;
console.log(solve(test, 100, 10000, 5977269), 52825021);
